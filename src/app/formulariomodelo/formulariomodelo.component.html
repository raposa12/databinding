<!--Formulario-->
<div class="container">
  <h1>Formulário de Pessoa</h1>
  <!--#pessoaForm="ngForm: controla a parte de validaçao dos formularios-->
  <!--[(ngModel)]="pessoa.nome: para chamar o json-->
  <!--#nome: para controlar o campo-->
  <form (ngSubmit)="enviar()" #pessoaForm="ngForm" (ngSubmit)="enviar()">
    <div class="form-group">
      <label for="name">Nome</label>
      <input type="text" class="form-control" id="name" required [(ngModel)]="pessoa.nome" name="nome" #nome="ngModel">
      <!--se o campo não tiver prenchido ele mostra um campo vermelho dizendo Nome é Obrigaório-->
      <div [hidden]="nome.valid  || nome.pristine" class="alert alert-danger">
        Nome é Obrigaório
      </div>
    </div>

    <div class="form-group">
      <label for="idade">Idade</label>
      <input type="text" class="form-control" id="idade" required [(ngModel)]="pessoa.idade" name="idade" #idade>
    </div>

    <div class="form-group">
      <label for="sexo">Sexo</label>
      <input type="text" class="form-control" id="sexo" required [(ngModel)]="pessoa.sexo" name="sexo" #sexo>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" required [(ngModel)]="pessoa.email" name="email" #email appDiretivaemail>
      <div *ngIf="!email" class="alert alert-danger">
        Dominio Errado
      </div>
      <!--para mostrar a mensage de erro-->
      <!--<div *ngIf="email" class="alert alert-danger">
            Dominio Errado
          </div>-->
    </div>

    <!--[disabled]="!pessoaForm.form.valid": se o campo não estiver prenchido o botao de enviar vai estar desblitado-->
    <button type="submit" class="btn btn-success" [disabled]="!pessoaForm.form.valid">Enviar Formulário</button>
    <button type="button" (click)="novaPessoa()" class="btn btn-default">Adicionar Pessoa</button>
  </form>
  <!--{{ diagnostico }}-->
  <!--{{ nome }}-->
  <!--tudo isso é pra mostrar os atributos das pessoas-->
  <div [hidden]="!enviado">
    <div class="row">
      <div class="col-xs-3">
        Nome
      </div>
      <div class="col-xs-9">
        {{ pessoa.nome }}
      </div>
      <div class="col-xs-3">
        Idade
      </div>
      <div class="col-xs-9">
        {{ pessoa.idade }}
      </div>
      <div class="col-xs-3">
        Sexo
      </div>
      <div class="col-xs-9">
        {{ pessoa.sexo }}
      </div>
    </div>
    <br>
    <!--botao para apagar e os dados e começar de novo-->
    <button class="btn btn-primary" (click)="enviado=false">Editar Pessoa</button>
  </div>
</div>